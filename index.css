@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: dark;
    --bg: #0b0f16;
    --panel: #111728;
    --glass: rgba(17, 23, 40, 0.75);
    --border: rgba(255, 255, 255, 0.06);
    --border-strong: rgba(255, 255, 255, 0.12);
    --accent: #00e599;
    --accent-2: #7af6c9;
    --text: #e8edf5;
    --text-dim: #8b95a7;
    --shadow-strong: 0 18px 60px rgba(0, 229, 153, 0.18);
  }

  html,
  body {
    height: 100dvh;
    width: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
    scrollbar-gutter: stable both-edges;
    font-family: 'Space Grotesk', 'Inter', sans-serif;
    letter-spacing: -0.01em;
    background-color: var(--bg);
    color: var(--text);
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    overscroll-behavior: none;
  }

  #root {
    height: 100%;
    width: 100%;
    min-height: 100dvh;
    min-width: 320px;
    background:
      radial-gradient(circle at 20% 20%, rgba(0, 229, 153, 0.05), transparent 22%),
      radial-gradient(circle at 80% 10%, rgba(0, 117, 229, 0.05), transparent 24%),
      radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.03), transparent 30%),
      linear-gradient(145deg, #0a0f1a 0%, #0c1220 35%, #0b0f16 100%);
  }

  /* Hide scrollbar utility */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Enhanced Professional Scrollbars */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(0, 229, 153, 0.2);
    border-radius: 4px;
    border: 1px solid rgba(0, 229, 153, 0.1);
    transition: background 0.2s ease;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 229, 153, 0.35);
    border-color: rgba(0, 229, 153, 0.2);
  }

  ::-webkit-scrollbar-thumb:active {
    background: rgba(0, 229, 153, 0.5);
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(0, 229, 153, 0.25);
    border-radius: 5px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 229, 153, 0.4);
  }

  /* Minimal scrollbar for tight spaces */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Monaco Editor Container */
  .monaco-editor-container {
    height: 100%;
    width: 100%;
  }

  /* Text Selection */
  ::selection {
    background: rgba(0, 229, 153, 0.2);
    color: white;
  }

  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

@layer components {
  /* Glassmorphism Panel */
  .glass-panel {
    background: rgba(28, 31, 36, 0.7);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.05);
  }

  /* Modern Card Component */
  .card {
    @apply bg-[#161b22]/80 backdrop-blur-lg border border-white/10 rounded-2xl transition-all duration-200;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.45), inset 0 0 24px rgba(0, 229, 153, 0.05);
  }

  .card:hover {
    @apply border-aussie-500/30;
    box-shadow: 0 16px 50px rgba(0, 0, 0, 0.6), inset 0 0 34px rgba(0, 229, 153, 0.08);
  }

  .card-interactive {
    @apply card cursor-pointer active:scale-95;
  }

  /* Glass Border Utility */
  .glass-border {
    border: 1px solid;
    border-image: linear-gradient(135deg, rgba(0, 229, 153, 0.3), rgba(0, 229, 153, 0.1)) 1;
    background-clip: padding-box;
  }

  /* Button Variants */
  .btn-primary {
    @apply bg-aussie-500 text-black font-bold px-6 py-3 rounded-xl transition-all duration-200 active:scale-95;
    box-shadow: 0 0 20px rgba(0, 229, 153, 0.3);
  }

  .btn-primary:hover {
    @apply bg-aussie-600;
    box-shadow: 0 0 30px rgba(0, 229, 153, 0.5);
  }

  .btn-primary:disabled {
    @apply opacity-50 cursor-not-allowed;
    box-shadow: none;
  }

  .btn-secondary {
    @apply bg-white/10 border border-white/20 text-white font-semibold px-6 py-3 rounded-xl hover:bg-white/15 hover:border-aussie-500/40 transition-all duration-200 active:scale-95;
  }

  .btn-tertiary {
    @apply text-gray-300 hover:text-white px-4 py-2 rounded-lg transition-colors duration-200;
  }

  .btn-ghost {
    @apply text-gray-400 hover:text-white hover:bg-white/5 px-4 py-2 rounded-lg transition-all duration-200;
  }

  .btn-danger {
    @apply bg-error-600 text-white font-semibold px-6 py-3 rounded-xl hover:bg-error-700 active:scale-95 transition-all duration-200;
  }

  .btn-success {
    @apply bg-success-600 text-white font-semibold px-6 py-3 rounded-xl hover:bg-success-700 active:scale-95 transition-all duration-200;
  }

  /* Badge Components */
  .badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold;
  }

  .badge-primary {
    @apply badge bg-aussie-500/20 text-aussie-400 border border-aussie-500/30;
  }

  .badge-success {
    @apply badge bg-success-500/20 text-success-400 border border-success-500/30;
  }

  .badge-warning {
    @apply badge bg-warning-500/20 text-warning-400 border border-warning-500/30;
  }

  .badge-error {
    @apply badge bg-error-500/20 text-error-400 border border-error-500/30;
  }

  .badge-info {
    @apply badge bg-info-500/20 text-info-400 border border-info-500/30;
  }

  /* Label Components */
  .label {
    @apply text-xs font-bold uppercase tracking-wider text-gray-500;
  }

  /* Input Components */
  .input-base {
    @apply w-full bg-[#0f131a]/80 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-600 transition-all duration-200;
  }

  .input-base:focus {
    @apply outline-none border-aussie-500/50 ring-2 ring-aussie-500/20;
  }

  .input-base:hover:not(:focus) {
    @apply border-white/20;
  }

  /* Form Control Group */
  .form-group {
    @apply space-y-2;
  }

  .form-group label {
    @apply label;
  }

  .form-group input,
  .form-group textarea,
  .form-group select {
    @apply input-base;
  }

  /* Loading States */
  .loading {
    @apply relative opacity-60 pointer-events-none;
  }

  .spinner {
    @apply inline-block w-5 h-5 border-2 border-aussie-500/30 border-t-aussie-500 rounded-full animate-spin;
  }

  .skeleton {
    @apply bg-gradient-to-r from-white/5 to-white/10 animate-shimmer bg-cover rounded;
    background-size: 200% 100%;
  }

  /* Tooltip */
  .tooltip {
    @apply absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 rounded-lg bg-[#0f131a]/95 text-xs text-white whitespace-nowrap border border-white/10 opacity-0 pointer-events-none transition-opacity duration-200 z-50;
  }

  .tooltip-visible {
    @apply opacity-100 pointer-events-auto;
  }

  /* Modal/Overlay */
  .modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center;
  }

  .modal-content {
    @apply card p-6 max-w-md w-full m-4;
  }

  /* Status Indicator */
  .status-dot {
    @apply inline-block w-2.5 h-2.5 rounded-full;
  }

  .status-dot.active {
    @apply bg-aussie-500 shadow-glow;
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .status-dot.idle {
    @apply bg-gray-500;
  }

  .status-dot.success {
    @apply bg-success-500;
  }

  .status-dot.error {
    @apply bg-error-500;
  }

  .status-dot.warning {
    @apply bg-warning-500;
  }

  /* Divider */
  .divider {
    @apply h-px bg-gradient-to-r from-white/0 via-white/10 to-white/0;
  }

  .divider-vertical {
    @apply w-px h-full bg-gradient-to-b from-white/0 via-white/10 to-white/0;
  }

  /* Text Utilities */
  .gradient-text {
    @apply bg-gradient-to-r from-aussie-300 via-aussie-400 to-aussie-500 bg-clip-text text-transparent;
  }

  .truncate-lines {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-lines-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Group Hover Effects */
  .group-hover\:glow .glow-target {
    transition: all 0.3s ease;
  }

  .group-hover\:glow:hover .glow-target {
    box-shadow: 0 0 30px rgba(0, 229, 153, 0.3);
  }
}

@layer utilities {
  .bg-os-canvas {
    background: radial-gradient(circle at 15% 20%, rgba(0, 229, 153, 0.12), transparent 22%), radial-gradient(circle at 80% 10%, rgba(90, 203, 255, 0.12), transparent 24%), radial-gradient(circle at 70% 80%, rgba(255, 255, 255, 0.04), transparent 28%), linear-gradient(160deg, #0b101a 0%, #0c1424 40%, #0a0f18 100%);
  }

  /* Enterprise Animations */
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  @keyframes glow-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-glow-pulse {
    animation: glow-pulse 2s ease-in-out infinite;
  }

  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }

  /* Landing page animations */
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
  }

  .animate-fade-in {
    animation: fade-in 0.4s ease-out forwards;
  }

  .animate-scale-in {
    animation: scale-in 0.5s ease-out forwards;
  }

  /* Staggered animation delays */
  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-400 { animation-delay: 400ms; }

  /* Focus Visible Enhancement */
  .focus-ring:focus-visible {
    outline: 2px solid rgba(0, 229, 153, 0.5);
    outline-offset: 2px;
    border-radius: 0.5rem;
  }

  /* Marquee Animation */
  @keyframes marquee {
    0% {
      transform: translateX(0%);
    }
    100% {
      transform: translateX(-100%);
    }
  }

  .animate-marquee {
    animation: marquee 30s linear infinite;
  }

  /* Safe Area Utilities */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 20px);
  }

  .pt-safe {
    padding-top: env(safe-area-inset-top, 20px);
  }

  /* Layout Utilities */
  .flex-center {
    @apply flex items-center justify-center;
  }

  .flex-between {
    @apply flex items-center justify-between;
  }

  .grid-auto-fit {
    @apply grid auto-cols-max gap-4;
  }

  .grid-responsive {
    @apply grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4;
  }

  /* Text Styling */
  .text-xs-caps {
    @apply text-xs font-bold uppercase tracking-wider;
  }

  .text-sm-caps {
    @apply text-sm font-bold uppercase tracking-wide;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-aussie-400 to-aussie-500 bg-clip-text text-transparent;
  }

  /* Border Utilities */
  .border-subtle {
    @apply border border-white/5;
  }

  .border-strong {
    @apply border border-white/20;
  }

  .border-accent {
    @apply border border-aussie-500/30;
  }

  .border-gradient {
    position: relative;
    border-radius: 0.75rem;
  }

  .border-gradient::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg, rgba(0, 229, 153, 0.3), rgba(0, 229, 153, 0.1));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  /* Spacing Helpers */
  .gap-xs {
    @apply gap-1;
  }

  .gap-sm {
    @apply gap-2;
  }

  .gap-md {
    @apply gap-4;
  }

  .gap-lg {
    @apply gap-6;
  }

  .gap-xl {
    @apply gap-8;
  }

  /* Shadow Utilities */
  .shadow-inset {
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
  }

  .shadow-glow-sm {
    box-shadow: 0 0 15px rgba(0, 229, 153, 0.2);
  }

  .shadow-glow-md {
    box-shadow: 0 0 25px rgba(0, 229, 153, 0.3);
  }

  .shadow-glow-lg {
    box-shadow: 0 0 40px rgba(0, 229, 153, 0.4);
  }

  /* Opacity Utilities */
  .opacity-low {
    @apply opacity-50;
  }

  .opacity-mid {
    @apply opacity-75;
  }

  /* Transform Utilities */
  .scale-up-on-hover {
    @apply transition-transform duration-200 hover:scale-105;
  }

  .scale-down-on-click {
    @apply active:scale-95;
  }

  .glass-effect {
    background: rgba(17, 23, 40, 0.75);
    backdrop-filter: blur(12px);
  }

  /* Responsive Typography */
  @media (max-width: 640px) {
    .text-responsive {
      @apply text-sm;
    }
    .text-responsive-lg {
      @apply text-base;
    }
  }

  @media (min-width: 641px) {
    .text-responsive {
      @apply text-base;
    }
    .text-responsive-lg {
      @apply text-lg;
    }
  }

  /* State Utilities */
  .state-active {
    @apply text-aussie-500 border-aussie-500 bg-aussie-500/10;
  }

  .state-success {
    @apply text-success-500 border-success-500 bg-success-500/10;
  }

  .state-error {
    @apply text-error-500 border-error-500 bg-error-500/10;
  }

  .state-warning {
    @apply text-warning-500 border-warning-500 bg-warning-500/10;
  }

  .state-disabled {
    @apply opacity-50 pointer-events-none cursor-not-allowed;
  }
}
